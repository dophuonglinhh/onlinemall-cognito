extends layout

block content
  .container.mt-4
    .row.justify-content-center
      .col-md-8
        .card
          .card-header
            h3.text-center.mb-0 Fee Details
          .card-body
            .fee-details
              .row.mb-3
                .col-md-4
                  strong Fee Name:
                .col-md-8
                  #{fee.name}
              
              .row.mb-3
                .col-md-4
                  strong Fee Type:
                .col-md-8
                  .badge.badge-info #{fee.type === 'shopper' ? 'Shopper' : 'Store Owner'}
              
              .row.mb-3
                .col-md-4
                  strong Description:
                .col-md-8
                  #{fee.description}
              
              .row.mb-3
                .col-md-4
                  strong Amount:
                .col-md-8
                  .badge.badge-success.p-2(style="font-size: 1rem;") #{fee.amount}
            
            .text-center.mt-4
              if user && user.account_type === 'admin'
                a.btn.btn-primary.mr-2(href=`/fees/${fee._id}/edit`) Edit Fee
                button.btn.btn-danger.mr-2(type='button' onclick=`confirmDelete('${fee._id}', '${fee.name}')`) Delete Fee
              a.btn.btn-secondary(href='/fees') Back to Fees

  // Delete confirmation modal and script for admin
  if user && user.account_type === 'admin'
    .modal.fade#deleteConfirmModal(tabindex='-1' role='dialog')
      .modal-dialog(role='document')
        .modal-content
          .modal-header
            h5.modal-title Confirm Delete
            button.close(type='button' data-dismiss='modal')
              span Ã—
          .modal-body
            p Are you sure you want to delete this fee?
            p.font-weight-bold#feeToDelete
          .modal-footer
            button.btn.btn-secondary(type='button' data-dismiss='modal') Cancel
            form#deleteForm(method='POST' style='display: inline;')
              button.btn.btn-danger(type='submit') Delete Fee

    script.
      function confirmDelete(feeId, feeName) {
        document.getElementById('feeToDelete').textContent = feeName;
        document.getElementById('deleteForm').action = '/fees/' + feeId + '/delete';
        $('#deleteConfirmModal').modal('show');
      }